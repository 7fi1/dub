enum WorkflowTrigger {
  clickRecorded
  leadRecorded
  saleRecorded
  commissionEarned
}

model Workflow {
  id                String          @id @default(cuid())
  programId         String
  name              String?
  trigger           WorkflowTrigger
  triggerConditions Json?
  actions           Json?
  createdAt         DateTime        @default(now())
  updatedAt         DateTime        @updatedAt

  program Program @relation(fields: [programId], references: [id], onDelete: Cascade)
  bounty  Bounty?

  @@index([programId, trigger])
}

